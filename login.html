<!DOCTYPE html>
<html>
<head>
  <title>Cognito Login</title>
  <!-- Include the Amplify library -->
  <script src="https://cdn.jsdelivr.net/npm/aws-amplify@latest/dist/aws-amplify.min.js"></script>

  <!-- Include your Amplify configuration -->
  <script src="amplify-config.js"></script> 

  <script>
    // Configure Amplify
    Amplify.configure(amplifyConfig);  // Use the config from your amplify-config.js file
  </script>
</head>
<body>

  <h1>Login</h1>

  <form id="login-form">
    <label for="username">Username:</label><br>
    <input type="text" id="username" name="username"><br><br>

    <label for="password">Password:</label><br>
    <input type="password" id="password" name="password"><br><br>

    <button type="button" onclick="signIn()">Sign In</button>
  </form>

  <div id="message"></div>  <!-- Display success or error messages -->

  <script>
    async function signIn() {
      const username = document.getElementById('username').value;
      const password = document.getElementById('password').value;
      const messageDiv = document.getElementById('message');

      try {
        const user = await Auth.signIn(username, password);

        // Successful sign-in!  Do something with the user object.
        console.log('User signed in:', user);
        messageDiv.textContent = "Sign-in successful!";


        // Example: Redirect to a protected page
        // window.location.href = "/protected-page.html";

      } catch (error) {
        console.error('Error signing in:', error);
        messageDiv.textContent = `Error signing in: ${error.message}`; 
      }
    }
  </script>

</body>
</html>